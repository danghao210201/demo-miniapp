import n from'./../external/@swc/helpers/src/_async_to_generator.mjs.js';import r from'./../external/@swc/helpers/src/_type_of.mjs.js';import{ACTION as t}from"../constants.js";import e from"./debug.js";import o from"./lodash.js";import{StatusBarType as i}from"../types/enum.js";import u from"../common/token.js";import a from"../appEnv/getEnv.js";import{__generator as c}from'./../external/tslib/tslib.es6.js';var s=e("zmp:utils:common"),p=function(n){if(o.isObject(JSON)&&JSON.stringify)return JSON.stringify(n);if(void 0===n)return"undefined";if(null===n)return"null";try{if("string"==typeof n||null!==n.constructor.toString().match(/string/i))return'"'+n.replace(/"/g,'\\"')+'"'}catch(n){console.log(n)}var r;if(null!==Object.prototype.toString.call(n).match(/array/i)){r=[];for(var t=n.length,e=0;e<t;e++)r.push(p(n[e]));return"["+r.join(",")+"]"}if("object"==typeof n){for(var i in r=[],n)r.push('"'+i+'":'+p(n[i]));return"{"+r.join(",")+"}"}return n.toString()},l=function(n){var r,e,o=t[n],i=(null===(r=a())||void 0===r?void 0:r.zaloVersion)||0,u="versionLive"in o&&(null==o||null===(e=o.versionLive)||void 0===e?void 0:e.iOS)||0;return!!(Array.isArray(window.ignoreCheckSupport)&&window.ignoreCheckSupport.length>0&&window.ignoreCheckSupport.includes(n))||Number(i)>=u},f=function(n){try{if(n){s(n);var t=n.replace(/\\/g,"").replace(/&#39;/g,"'");try{t=decodeURIComponent(atob(n))}catch(n){}var e=JSON.parse(t);return s("formattedValue",t,e,void 0===e?"undefined":r(e)),e}return null}catch(r){return s("parse json error:",r),n}},m=function(n){if(o.isObject(JSON)&&JSON.parse&&o.isString(n)){var r=n.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\x00/g,"");return JSON.parse(r,(function(n,r){return r}))}return o.isObject(n)?n:new Function("return "+n)()},d=function(n){for(var r=document.getElementsByTagName("meta"),t=0;t<r.length;t++)if(r[t].getAttribute("name")===n||r[t].getAttribute("property")===n)return r[t].getAttribute("content");return""},g=function(n){return btoa(encodeURIComponent(JSON.stringify(n)))},h=function(n,r){var t,e=0;for(t in n){var o=t.split("_")[0];n.hasOwnProperty(t)&&(r&&o!==r||(e+=2*(n[t].length+t.length)))}return e};function v(n){return n.map((function(n,r){var t=n.path.length>0?n.path.map((function(n,r){return r>0?"[".concat(n,"]"):n})).join(""):"arg";return"Error ".concat(r+1,": Code: ").concat(n.code," ~ Path: ").concat(t," ~ Message: ").concat(n.message)})).join(" | ")}var y,j=function(n){return n===i.hidden?"hidden":n===i.transparent?"transparent":"normal"},S=function(n){return"hidden"===n?i.hidden:"transparent"===n?i.transparent:i.normal},b=function(n){if(void 0!==n){var r=u.miniProgramConfig;return((null==r?void 0:r.dynamicApis)||[]).find((function(r){return r.action===n&&!1===r.clientHandle}))}},O=function(n){if(void 0===n)return!1;var r=u.miniProgramConfig;return((null==r?void 0:r.requiredAuthenList)||[]).indexOf(n)>=0},w=(y=n((function(){return c(this,(function(r){return[2,new Promise(function(){var r=n((function(n,r){var t;return c(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,u.jumpAndGetToken()];case 1:return r.sent(),t=u.miniProgramConfig,n(!0===(null==t?void 0:t.canUseAccessTokenByDefault)),[3,3];case 2:return r.sent(),n(!1),[3,3];case 3:return[2]}}))}));return function(n,t){return r.apply(this,arguments)}}())]}))})),function(){return y.apply(this,arguments)}),C=function(n){return n.replace("action.","").replace(/\./g,"_").toUpperCase()},_=function(n){return"action.".concat(n.replace(/\_/g,".").toLowerCase())};export{h as calcLocalStorageSize,w as canUseAccessTokenByDefault,l as checkIOSSupportAction,C as convertJumpActionToSDKAction,_ as convertSDKActionToJumpAction,S as convertStatusBarTypeToNumber,v as generateErrorMessage,b as getDynamicAPIByAction,d as getMetaValue,j as getStatusbarType,O as isRequireUserAuthentication,m as parseJSON,p as serialize,f as stringToData,g as stringifyData};
